message(STATUS "Configuring SSE2 optimizations")
     	
if(MSVC AND OPTION_SSE32)
  message(STATUS "Making nasm code compatible with 32 bit msvc compiler")
  set(ASM_OBJECT ${CMAKE_CURRENT_BINARY_DIR}/${BASE_NAME}.obj)
  set(NASM_FORMAT -f win32)
  set(NASM_OPTIONS --prefix _)
endif(MSVC AND OPTION_SSE32)

if(MSVC AND OPTION_SSE64)
  message(STATUS "Making nasm code compatible with 64 bit msvc compiler")
  set(ASM_OBJECT ${CMAKE_CURRENT_BINARY_DIR}/${BASE_NAME}.obj)
  set(NASM_FORMAT -f win64 -DWIN64)
  set(NASM_OPTIONS -i${CMAKE_CURRENT_SOURCE_DIR})
endif(MSVC AND OPTION_SSE64)

if(CMAKE_COMPILER_IS_GNUCXX AND OPTION_SSE32)
  message(STATUS "Making nasm code compatible with 32 bit g++")
  set(ASM_OBJECT ${CMAKE_CURRENT_BINARY_DIR}/${BASE_NAME}.o)
  set(NASM_FORMAT -f elf)
  set(NASM_OPTIONS)
endif(CMAKE_COMPILER_IS_GNUCXX AND OPTION_SSE32)

if(CMAKE_COMPILER_IS_GNUCXX AND OPTION_SSE64)
  message(STATUS "Making nasm code compatible with 64 bit g++")
  set(ASM_OBJECT ${CMAKE_CURRENT_BINARY_DIR}/${BASE_NAME}.o)
  set(NASM_FORMAT -f elf64)
  set(NASM_OPTIONS -i${CMAKE_CURRENT_SOURCE_DIR})
endif(CMAKE_COMPILER_IS_GNUCXX AND OPTION_SSE64)
